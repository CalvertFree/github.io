<h1 id="week03-drawgrid">Week03-DrawGrid</h1>
<p>This is the revised version of the asignment. The sections involving using loading and saving JSON data have been removed, and will be covered next week.</p>
<p>There will be four new features in our game this week:</p>
<ul>
<li>Create a two dimensional array of numbers to describe the pattern to be used when display your background grid. The pattern should be drawn using at least two bitmaps.</li>
<li>Support logging in before the user can play</li>
<li>Increment a counter each time the player moves, and display the total number of moves.</li>
<li>Prevent the player from moving off the grid. When she hits the edge of the grid, the main character should be stopped. She can move anywhere on the grid, but cannot move past the edges of the grid on the far left, right, top or bottom.</li>
</ul>
<h2 id="define-a-grid-with-two-bitmaps">Define a Grid with Two Bitmaps</h2>
<p>In last weeks assignment, we used two bitmaps:</p>
<ul>
<li>One for the background grid</li>
<li>One for the main character</li>
</ul>
<p>Now I want you to use two bitmaps for the grid:</p>
<ul>
<li>One bitmap for a background material such as grass</li>
<li>A second bitmap to define a path through the grass</li>
</ul>
<p>You will use a two dimensional array of integers to designate where grass should be drawn, and where the path should be down. Here for instance is a 5 X 5 grid:</p>
<pre><code>0 1 0 0 0
0 1 0 0 0
0 1 1 0 0
0 0 1 1 0
0 0 0 1 0</code></pre>
<p>You should use your nested for loop from last week to draw the background grid. This time, however, you should check the 12 X 12 array and make sure that you draw grass for items that are a 0, and path for items that are a 1.</p>
<p>Here is how to define a simple 3 X 3 array in JavaScript:</p>
<pre><code>    var list = [
        [0, 1, 0],
        [1, 0, 0],
        [0, 1, 0]
    ];

    for (var i = 0; i &lt; 3; i++) {
        if (list[i] == 0) {
            // Draw Grass
        }
    }</code></pre>
<p>The code shown above differs from what you will create. It is meant simply to give you a few hints as to how to proceed.</p>
<p>For more hints, see the following example from JsObjects:</p>
<ul>
<li>JsObjects/JavaScript/Syntax/ArrayTwoDimensions</li>
</ul>
<h2 id="sign-in">Sign In</h2>
<p>The user must sign in using OpenId before they can play. After the log in, you should load your game HTML file that will host your new grid and allow the user to move around on it.</p>
<p>The best strategy is probably to host the HTML, JavaScript and CSS for the LogIn screen and the Game files in a directory called public. Then use fs.read</p>
<p>There are several examples of how to do load files from a <strong>public</strong> directory in JsObjects, including these two:</p>
<ul>
<li>JsObjects/JavaScript/NodeCode/DataInput01</li>
<li>JsObjects/JavaScript/NodeCode/JsonRead</li>
</ul>
<h2 id="loading-two-html-files">Loading Two HTML Files</h2>
<p>I have, in a moment of weakness, provided you with an example to show you how to load two HTML files from a single Node server. Look in <strong>JsObjects/JavaScript/NodeCode</strong> for a new example called <strong>TwoHtmlFiles</strong>. The part you care about is in <strong>server.js</strong>. You don't need to implement the link in the <strong>index.html</strong> file that you will find in this example. You just need something like the method from <strong>server.js</strong> with this signature:</p>
<pre><code>app.get(&#39;/launchSecondHtmlFile&#39; ... etc</code></pre>
<p>Only in your OpenId example, it will be the URI route called <strong>/go</strong> that you care about:</p>
<pre><code>app.get(&#39;/go&#39; ... etc</code></pre>
<p>The <strong>go</strong> route is called automatically by OpenId, so all you have to do is respond properly when the method is called. The point of this demo is to give you some clues (too many, in fact) as to how to respond.</p>
<h2 id="references">References</h2>
<p>Besides the obvious references on Elvenware, and the examples mentioned above, be sure you look at the following examples in JsObjects. For instance:</p>
<ul>
<li>JsObjects/JavaScript/Authenticate/*</li>
<li>JsObjects/JavaScript/Graphics/*</li>
<li>JsObjects/JavaScript/Syntax/ForLoopNested</li>
<li>JsObjects/JavaScript/Syntax/KeyDown</li>
</ul>
